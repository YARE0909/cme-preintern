# ---------------------------------------------
# ? Basic Service Configuration
# ---------------------------------------------
spring.application.name=payments-service
server.port=8083

# ---------------------------------------------
# ? Database Configuration (MySQL)
# ---------------------------------------------
spring.datasource.url=jdbc:mysql://localhost:3306/paymentdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=root@12345
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ---------------------------------------------
# ? JPA / Hibernate Settings
# ---------------------------------------------
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=true

# ---------------------------------------------
# ? RabbitMQ Configuration
# ---------------------------------------------
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=user
spring.rabbitmq.password=password
spring.rabbitmq.virtual-host=my_vhost

# JSON message converter
spring.rabbitmq.listener.simple.acknowledge-mode=auto
spring.rabbitmq.listener.simple.prefetch=10

# Event routing keys
rabbitmq.exchanges.order-events=order.events.exchange
rabbitmq.queues.order-created=order.created.queue
rabbitmq.queues.order-status-updated=order.status.queue
rabbitmq.queues.payment-status=payment.status.queue

rabbitmq.routing.order-created=order.created
rabbitmq.routing.order-status-updated=order.status
rabbitmq.routing.payment-status=payment.status


# ---------------------------------------------
# ? Logging Configuration
# ---------------------------------------------
logging.level.org.springframework=INFO
logging.level.com.pradyumna.paymentsservice=DEBUG
logging.pattern.console=%d{HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ---------------------------------------------
# ? Security / JWT Configuration
# (keep this consistent with JwtUtil.java)
# ---------------------------------------------
jwt.secret=5c4a1e8bfa61e3b9b19d4a2e78c3e42c6b1a9f3e5a7c2d9f6e3b2a7e4f5d6c7a
jwt.expiration=36000000

# ---------------------------------------------
# ? Spring Actuator (for health checks)
# ---------------------------------------------
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always

# Swagger / OpenAPI Config
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/v3/api-docs
server.servlet.context-path=/payment
springdoc.packages-to-scan=com.pradyumna.paymentsservice.controller
